\subsection{Comment calculer ton IP ?}
%% Calculer l'adresse \emph{IP} de son casert

\label{calcul_ip}

Une adresse IP est une suite de quatre nombres compris entre 0 et
255 séparés par des points ; en gros, elle identifie de manière
unique toute machine connectée au réseau mondial. \emph{Exemple :}
l'adresse IP de \server{frankiz} est \server{129.104.201.51}.

Les IP de l'X sont toutes de la forme \server{129.104.AAA.BBB}.
Les pages suivantes t'indiquent comment calculer \server{AAA} et \server{BBB} pour que ton
ordinateur ait une adresse unique et correcte.

Au cas où deux personnes ont (par erreur ou pas) la même adresse,
cela implique des conflits réseau qui font que les deux perdent
l'accès tant que cela n'est pas corrigé.

\subsubsection{Pour Foch, Fayolle et Maunoury}

Tu trouveras sur ta prise réseau un identifiant composé d'une lettre et de trois chiffres.
On note les deux premiers caractères $xx$ et les deux derniers $zz$.

\begin{itemize}
\item $zz$ sert à trouver les identifiants \server{BBB} par la règle : \server{BBB} = $120 + zz$.

\item $xx$ sert à trouver ton sous-réseau (\server{AAA}), ta passerelle,
ton adresse de \textit{broadcast} et ton masque de sous-réseau,
selon le tableau suivant.
\end{itemize}

\vskip 12pt

\def\vsep{\vskip0.3em \relax}
\hfil \hbox{
\vrule
\valign{&\hrule#&\vsep\vfil\hbox{\quad#\quad}\vfil\vsep\cr
&  \multispan3 \vsep\vfil\hbox{\quad $xx$\quad}\vfil\vsep &&  A0&&  A1&&  A2&&  A3&&  C0&&  C1&&  C2&&  C3&&  D0&&  D1&&  D2&&  D3&\cr
\noalign{\vrule}
& \multispan3 \vsep\vfil\hbox{\quad $AAA$\quad}\vfil\vsep && 208&& 209&& 210&& 211&& 212&& 213&& 214&& 215&& 232&& 233&& 234&& 235&\cr
\noalign{\vrule}
& \multispan3 \vsep\vfil\hbox{\quad \bf Passerelle\quad}\vfil\vsep && \multispan7 \vsep\vfil\hbox{\quad 129.104.211.254\quad}\vfil\vsep&
               & \multispan7 \vsep\vfil\hbox{\quad 129.104.215.254\quad}\vfil\vsep&
               & \multispan7 \vsep\vfil\hbox{\quad 129.104.235.254\quad}\vfil\vsep&\cr
\noalign{\vrule}
&\bf Adresse &\omit& \bf de \textit{broadcast}&& \multispan7 \vsep\vfil\hbox{\quad 129.104.211.255\quad}\vfil\vsep&
               & \multispan7 \vsep\vfil\hbox{\quad 129.104.215.255\quad}\vfil\vsep&
               & \multispan7 \vsep\vfil\hbox{\quad 129.104.235.255\quad}\vfil\vsep&\cr
\noalign{\vrule}
&  \bf Masque de &\omit& \bf sous-réseau&& \multispan{23} \vsep\vfil\hbox{\quad 255.255.252.0\quad}\vfil\vsep&\cr
}\vrule} \hfil

\vskip 6pt

\exemple{l'IP associée à la prise $A145$ est
\server{129.104.209.165} ($165 = 120 + 45$) ; sa passerelle est
\server{129.104.211.254}, son adresse de \textit{broadcast} est
\server{129.104.211.255} et son masque de sous-réseau est
\server{255.255.252.0}.}

\subsubsection{Pour les nouveaux caserts}

Ta prise réseau possède un numéro à 6 chiffres de la forme $xx\ yy\
zz$. On prend $xx$ pour calculer ton sous-réseau, l'adresse de ta
passerelle (\server{129.104.AAA.CCC}) et l'adresse de
\textit{broadcast} (\server{129.104.AAA.EEE}). Le masque de
sous-réseau est toujours \server{255.255.255.128}. Ensuite, tu peux
déterminer la partie \server{BBB} de ton IP avec $zz$ et $xx$ :

\vskip 12pt
\hfil \vbox{
\offinterlineskip
\hrule
\halign{&\vrule#&\strut\quad\hfil#\hfil\quad\cr
height2pt&\omit&&\omit&&\omit&&\omit&&\omit&\cr
&  $xx$&& $AAA$&& $CCC$&& $EEE$&&      $BBB$&\cr
height2pt&\omit&&\omit&&\omit&&\omit&&\omit&\cr
\noalign{\hrule}
&    70&&   224&&   254&&   255&& $128 + zz$&\cr
&    71&&   224&&   126&&   127&&       $zz$&\cr
&    72&&   228&&   254&&   255&& $128 + zz$&\cr
&    73&&   225&&   126&&   127&&       $zz$&\cr
&    74&&   225&&   254&&   255&& $128 + zz$&\cr
&    75&&   226&&   126&&   127&&       $zz$&\cr
&    76&&   227&&   126&&   127&&       $zz$&\cr
&    77&&   227&&   254&&   255&& $128 + zz$&\cr
&    78&&   228&&   126&&   127&&       $zz$&\cr
&    79&&   229&&   126&&   127&&       $zz$&\cr
&    80&&   226&&   254&&   255&& $128 + zz$&\cr
}
\hrule
} \hfil

\vskip 12pt

\exemple{l'IP associée à la prise $70 30 30$ est
\server{129.104.224.158} ($158 = 128 + 30$) ; sa passerelle est
\server{129.104.224.254}, son adresse de \textit{broadcast} est
\server{129.104.224.255} et son masque de sous-réseau est
\server{255.255.255.128}.}

\subsubsection{Le BEM}
\newbox\point
\setbox\point=\hbox{.\hskip .15em}
\def\ecart{\hskip 1.5em plus 1fill\relax}
\noindent\begin{tabular}{l@{\xleaders\copy\point\ecart}l}
  Sous-réseau (\server{AAA}) & 203 pour le bâtiment A ; 204 au bâtiment D \\
  IP (\server{BBB})            & 50 + les deux derniers chiffres du numéro de ta chambre \\
  Passerelle                   & \server{129.104.AAA.13} \\
  Masque de sous-réseau      & \server{255.255.255.0} \\
  Broadcast                    & \server{129.104.AAA.255} \\
\end{tabular}

\subsubsection{Le PEM}

\noindent\begin{tabular}{l@{\xleaders\copy\point\ecart}l}
  Sous-réseau (\server{AAA})           & 205 \\
  IP (\server{BBB}), rez-de-chaussée & 15 + les deux derniers chiffres du numéro  de ta chambre \\
  IP (\server{BBB}), premier étage   & 70 + les deux derniers chiffres du numéro de ta chambre \\
  Passerelle                             & \server{129.104.205.13} \\
  Masque de sous-réseau                & \server{255.255.255.0} \\
  Broadcast                              & \server{129.104.205.255} \\
\end{tabular}

\subsubsection{Tes informations réseau}
Maintenant, note ici ton IP et les adresses IP de ta passerelle
(\trad{gateway}), de ton \trad{broadcast} et ton masque de
sous-réseau (\trad{netmask}). Re-vérifie bien que tu ne t'es pas
trompé,  \c ca t'évitera de te prendre la tête pendant la suite de
la configuration !

\begin{center}
  \begin{tabular}{|rp{5cm}|}
  \hline
  \vrule height16pt depth8pt width0pt \textbf{Mon IP :} 129.104. & \\ \hline
  \vrule height16pt depth8pt width0pt \textbf{Ma passerelle :} 129.104. & \\ \hline
  \vrule height16pt depth8pt width0pt \textbf{Mon broadcast :} 129.104. & \\ \hline
  \vrule height16pt depth8pt width0pt \textbf{Mon masque de sous-réseau :} 255.255. & \\ \hline
  \end{tabular}
  \label{tableau:mon_IP}
\end{center}

% \subsubsection{IP des serveurs DNS}
%
% Le BR offre quatre serveurs DNS redondants, qui ont les IP's suivantes :
% \begin{itemize}
%   \item Serveur principal : $129.104.201.53$
%   \item Serveurs secondaires : $129.104.201.51$, $129.104.201.52$ et $129.104.201.54$
% \end{itemize}

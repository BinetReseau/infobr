\subsection{Comment calculer ton IP ?}
%% Calculer l'adresse \emph{IP} de son casert

\label{calcul_ip}

Une adresse IP est une suite de quatre nombres compris entre $0$ et $255$ s\'epar\'es par des points ;
en gros, elle identifie de mani\`ere unique toute machine connect\'ee au r\'eseau mondial.
\emph{Exemple :} l'adresse IP de \server{frankiz} est \server{129.104.201.51}.

Les IP de l'X sont toutes de la forme \server{129.104.AAA.BBB}.
Les pages suivantes d'indiquent comment calculer \server{AAA} et \server{BBB} pour que ton
ordinateur ait une adresse unique et correcte.

Au cas o\`u deux personnes ont (par erreur ou pas) la m\^eme adresse,
cela implique des conflits r\'eseau qui font
que les deux perdent l'acc\`es tant que cela n'est pas corrig\'e.

\subsubsection{Pour Foch, Fayolle et Maunoury}

Regarde sur ta prise r\'eseau, elle contient 4 caract\`eres.
On note les deux premiers $xx$ et les deux derniers $zz$.

$xx$ sert \`a trouver ton sous-r\'eseau (\server{AAA}), ta passerelle,
et ton adresse de \textit{broadcast}, selon le tableau suivant :

\vskip 12pt

\def\vsep{\vskip0.3em \relax}
\hfil \hbox{
\vrule
\valign{&\hrule#&\vsep\vfil\hbox{\quad#\quad}\vfil\vsep\cr
&  \multispan3 \vsep\vfil\hbox{\quad $xx$\quad}\vfil\vsep &&  A0&&  A1&&  A2&&  A3&&  C0&&  C1&&  C2&&  C3&&  D0&&  D1&&  D2&&  D3&\cr
\noalign{\vrule}
& \multispan3 \vsep\vfil\hbox{\quad $AAA$\quad}\vfil\vsep && 208&& 209&& 210&& 211&& 212&& 213&& 214&& 215&& 232&& 233&& 234&& 235&\cr
\noalign{\vrule}
& \multispan3 \vsep\vfil\hbox{\quad \bf Passerelle\quad}\vfil\vsep && \multispan7 \vsep\vfil\hbox{\quad 129.104.211.254\quad}\vfil\vsep&
               & \multispan7 \vsep\vfil\hbox{\quad 129.104.215.254\quad}\vfil\vsep&
               & \multispan7 \vsep\vfil\hbox{\quad 129.104.235.254\quad}\vfil\vsep&\cr
\noalign{\vrule}
&\bf Adresse &\omit& de \textit{broadcast}&& \multispan7 \vsep\vfil\hbox{\quad 129.104.211.255\quad}\vfil\vsep&
               & \multispan7 \vsep\vfil\hbox{\quad 129.104.215.255\quad}\vfil\vsep&
               & \multispan7 \vsep\vfil\hbox{\quad 129.104.235.255\quad}\vfil\vsep&\cr
\noalign{\vrule}
&  \bf Masque de &\omit& sous-réseau&& \multispan{23} \vsep\vfil\hbox{\quad 255.255.252.0\quad}\vfil\vsep&\cr
}\vrule} \hfil

$zz$ sert \`a trouver les identifiants \server{BBB} par la r\`egle : $BBB = 120 + zz$.

\emph{Exemple :} l'IP associ\'ee \`a la prise $A145$ est \server{129.104.209.165} ($165 = 120 + 45$) ;
sa passerelle est \server{129.104.211.254}, son adresse de \textit{broadcast} est
\server{129.104.211.255} et son masque de sous-r\'eseau est \server{255.255.252.0}.

\subsubsection{Pour les nouveaux caserts}

Ta prise r\'eseau possède un numéro à 6 chiffres de la forme $xx\ yy\ zz$.
On prend $xx$ pour calculer le sous-r\'eseau, la passerelle et l'adresse de \textit{broadcast};
les adresses IP de la passerelle et du \textit{broadcast} sont respectivement de la forme
\server{129.104.AAA.DDD} et \server{129.104.AAA.EEE}.
Ensuite, tu peux d\'eterminer la partie {BBB} de ton IP avec $zz$ et $xx$ :

\vskip 12pt
\hfil \vbox{
\offinterlineskip
\hrule
\halign{&\vrule#&\strut\quad\hfil#\hfil\quad\cr
height2pt&\omit&&\omit&&\omit&&\omit&&\omit&\cr
&  $xx$&& $AAA$&& $DDD$&& $EEE$&&      $BBB$&\cr
height2pt&\omit&&\omit&&\omit&&\omit&&\omit&\cr
\noalign{\hrule}
&    70&&   224&&   254&&   255&& $128 + zz$&\cr
&    71&&   224&&   126&&   127&&       $zz$&\cr
&    72&&   228&&   254&&   255&& $128 + zz$&\cr
&    73&&   225&&   126&&   127&&       $zz$&\cr
&    74&&   225&&   254&&   255&& $128 + zz$&\cr
&    75&&   226&&   126&&   127&&       $zz$&\cr
&    76&&   227&&   126&&   127&&       $zz$&\cr
&    77&&   227&&   254&&   255&& $128 + zz$&\cr
&    78&&   228&&   126&&   127&&       $zz$&\cr
&    79&&   229&&   126&&   127&&       $zz$&\cr
&    80&&   226&&   254&&   255&& $128 + zz$&\cr
}
\hrule
} \hfil

\vskip 12pt

Le masque de sous-r\'eseau est toujours \server{255.255.255.128}.

\emph{Exemple :} l'IP associ\'ee \`a la prise $70 40 30$ est \server{129.104.224.158} ($158 = 128 + 30$) ;
sa passerelle est \server{129.104.224.254}, son adresse de \textit{broadcast} est \server{129.104.224.255}
et son masque de sous-r\'eseau est \server{255.255.255.128}.

\subsubsection{Le BEM}
Si tu habites au b\^atiment A, $AAA = 203$, au b\^atiment D, $AAA = 204$.
Ta passerelle est \server{129.104.AAA.13}, le masque de sous-r\'eseau est \server{255.255.255.0},
le broadcast est \server{129.104.AAA.255}.

Pour \server{BBB}, c'est simple : $BBB = 50 + \mbox{les deux derniers chiffres du num\'ero de ta chambre}$.

\subsubsection{Le PEM}
Ici, $AAA = 214$, la passerelle est \server{129.104.214.13},
le broadcast est \server{129.104.214.255} et le masque r\'eseau est \server{255.255.255.0}.

Pour le num\'ero de machine:
\begin{itemize}
  \item au rez-de-chauss\'ee: $BBB = 15 + \mbox{les deux derniers chiffres du num\'ero de ta chambre}$;
  \item au premier \'etage:   $BBB = 70 + \mbox{les deux derniers chiffres du num\'ero de ta chambre}$.
\end{itemize}


\subsubsection{Tes informations réseau}
\emph{Maintenant, note ton IP ici, et re-v\'erifie que tu ne t'es pas tromp\'e. \c Ca t'\'evitera de te prendre la t\^ete pendant la suite de la configuration !}

\begin{center}
  \begin{tabular}{|rp{5cm}|}
  \hline
  \vrule height16pt depth8pt width0pt \textbf{Mon IP :} 129.104. & \\ \hline
  \vrule height16pt depth8pt width0pt \textbf{Ma passerelle :} 129.104. & \\ \hline
  \vrule height16pt depth8pt width0pt \textbf{Mon broadcast :} 129.104. & \\ \hline
  \vrule height16pt depth8pt width0pt \textbf{Mon masque r\'eseau :} 255.255. & \\ \hline
  \end{tabular}
\end{center}

\subsubsection{IP des serveurs DNS}

Le BR offre quatre serveurs DNS redondants qui ont les IP suivantes :
\begin{itemize}
  \item Serveur principal : $129.104.201.53$
  \item Serveurs secondaires : $129.104.201.51$, $129.104.201.52$ et $129.104.201.54$
\end{itemize}
